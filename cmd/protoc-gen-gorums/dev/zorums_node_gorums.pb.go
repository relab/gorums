// Code generated by protoc-gen-gorums. DO NOT EDIT.

package dev

import (
	context "context"
	fmt "fmt"
)

type nodeServices struct {
	ReaderServiceClient
	readMulticastClient  ReaderService_ReadMulticastClient
	readMulticast2Client ReaderService_ReadMulticast2Client
	readMulticast3Client ReaderService_ReadMulticast3Client
}

func (n *Node) connectStream() (err error) {
	n.ReaderServiceClient = NewReaderServiceClient(n.conn)
	n.readMulticastClient, err = n.ReaderServiceClient.ReadMulticast(context.Background())
	if err != nil {
		return fmt.Errorf("stream creation failed: %v", err)
	}
	n.readMulticast2Client, err = n.ReaderServiceClient.ReadMulticast2(context.Background())
	if err != nil {
		return fmt.Errorf("stream creation failed: %v", err)
	}
	n.readMulticast3Client, err = n.ReaderServiceClient.ReadMulticast3(context.Background())
	if err != nil {
		return fmt.Errorf("stream creation failed: %v", err)
	}
	return nil
}

func (n *Node) closeStream() (err error) {
	_, err = n.readMulticastClient.CloseAndRecv()
	_, err = n.readMulticast2Client.CloseAndRecv()
	_, err = n.readMulticast3Client.CloseAndRecv()
	return err
}
